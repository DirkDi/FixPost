<!DOCTYPE html>
<html>
	<head>
		<title>Login</title>
		<link rel="stylesheet" href="login_style.css">
	</head>
	<body onload="javascript:init()">
		<div class="flex-container horizontal_centering">
			<img src="logo.jpg" alt="Fixpost" class="logo">
			<h1 class="title">Fixpost-Tutorsystem</h1>
		</div>
		<div class="flex-container horizontal_centering column_direction">
			<table>
				<tr><td>Benutzername: </td> <td><input id="username_field" autofocus /></td></tr>
				<tr><td class="cell">Passwort: </td> <td><input type="password" id="password_field" /></td></tr>
			</table>
			<p id="helpertext" class="helper_text"></p>
			<button id="login" class="button" onclick="switchToMain()" style="margin-left: 40px;">Anmelden</button>
			<p>Noch keinen Account? <button class="button" onclick="switchToRegistration()">Registrieren</button></p>
		</div>
	</body>
	<script>
		function init() {
			user_field = document.getElementById("username_field");
			user_field.addEventListener("keydown", loginByEnter);
			word_field = document.getElementById("password_field");
			word_field.addEventListener("keydown", loginByEnter);
		}
		
		function loginByEnter(event) {
			var e = event.which || event.keyCode;
			if (e === 13) {
				switchToMain();
			}
		}

		function switchToMain() {
			var userName = document.getElementById("username_field").value;
			var password = document.getElementById("password_field").value;
			var result = "";
			if (!userName || !password) {
				result = "Bitte füllen Sie alle Felder aus."
			} else if ((userName == "Holger Flaua" && password == "FixPost123") || (userName == "student" && password == "admin")) {
				window.location = "mainpage.html";
			} else if ((userName == "Olaf D." && password == "FixPost123") || (userName == "tutor" && password == "admin")) {
				window.location = "mainpage_tutor.html";
			} else {
				result = "Name oder Passwort ungültig.";
			}
			document.getElementById("helpertext").innerHTML = result;
		}
		
		function switchToRegistration() {
			window.location = "registration.html";
		}
	</script>
</html>
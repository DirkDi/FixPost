<!Doctype HTML>
<html>

<!--Logout-Dialog-->
<dialog id="Dialog">
	<form method="dialog">
		<section>
			<p><label for="Pop-up" style="font-size: 32px; text-align: center;">MÃ¶chtest du dich wirklich abmelden?</label>
		</section>
		<div class="divider" style="width:75px;"></div>
		<button class="button2" id="switch" style="color: green; width: 100px" onclick="switchToLogin()">Ja</button>
		<div class="divider" style="width:75px;"></div>
		<div class="divider" style="width:75px;"></div>
		<button class="button2" id="cancel" style="color: red; width: 100px">Nein</button>
		<div class="divider" style="width:75px;"></div>
	</form>
</dialog>

<!--Logout-Dialog-->
<dialog id="Dialog1">
	<form method="dialog">
		<section>
			<p>
				<label for="Pop-up" style="font-size: 32px; text-align: center;">Die Eingabe darf nicht leer sein!</label>
			</p>
		</section>
		<div class="divider" style="width:75px;"></div>
		<button class="button2" id="switch1" style="color: green; width: 180px" onclick="closeDialog();">Fortfahren</button>
		<div class="divider" style="width:75px;"></div>
		<div class="divider" style="width:75px;"></div>
		<button class="button2" id="cancel1" style="color: red; width: 180px" onclick="close_now();">Abbrechen</button>
		<div class="divider" style="width:75px;"></div>
	</form>
</dialog>

<head>
<meta charset = "UTF-8">

	<div class="headerContainer"> 
	
		<div class="headerImage" col="1"> 
			<b onclick="switchToMain()"><img src="logo.jpg" alt="Menu"/></b>
		</div>
		
		<div class="topnav" col="2"> 
			<a class="logout" onclick="openPopup()">Abmelden</a>
			<a onclick="switchToSettings()">Einstellungen</a>
			<a class="active" onclick="switchToProfile()">Profil</a>
			<a onclick="switchToMessages()">Nachrichten</a>
			<a onclick="switchToMain()">Startseite</a>
		</div>
		
	</div>

	<link rel="stylesheet" href="profile_style.css">

	<style>
		.online {
			height: 15px; width: 15px;
			border-radius: 50%;
			background-color: #1fcd34;
			display: inline-block;
			margin-top: 6px;
			margin-right: 5px;
		}

		/* Is offline ... */
		.nonline {
			height: 15px; width: 15px;
			border-radius: 50%;
			background-color: red;
			display: inline-block;
			margin-top: 6px;
			margin-right: 5px;
		}

		.tutors {
			font-size: 16pt;
			cursor: pointer;
		}

		.tutors:hover {
			color: white;
		}
	</style>

	<style>
		/*Change!*/
		.profileItemEdit {
			background: white;
			font-size: 30px;
			font-family: Verdana, "Lucida Sans";
			color: black;
			/*width: auto;*/
			width: 350px;
			margin-bottom: 10px;
			margin-top: 10px;
			text-align: left;
			border: 2px dashed black;
            cursor: pointer;
		}

        .finishButton {
            text-align: center;
			display: block;
			margin-left: 10%;
        }
	</style>
</head>
<body bgcolor="F1F1F1">

	<div class="container">

		<div class="left" col="1">

			<div class="text1">Tutoren online:</div>
			<span style="display: none;"></span>
			<ol style="list-style-type:none;">
				<li class="tutors">
					<span class="online"></span>
					Hans G.
				</li>
				<li class="tutors">
					<span class="online"></span>
					Olaf D.
				</li>
				<li class="tutors">
					<span class="online"></span>
					Paul F.
				</li>
				<li class="tutors">
					<span class="online"></span>
					Holger B.
				</li>
			</ol>

			<div class="text1">Tutoren offline:</div>
			<ol style="list-style-type:none;">
				<li class="tutors">
					<span class="nonline"></span>
					Dieter M.
				</li>
				<li class="tutors">
					<span class="nonline"></span>
					Peter Z.
				</li>
			</ol>

		</div>
		
		<div class="center" col="3"> 
			<ul style="list-style-type:none;">
				<li class="profilePrompt">Name: </li>
				<li class="profilePrompt">Alter: </li>
				<li class="profilePrompt">Studiengang: </li>
				<li class="profilePrompt">Semester: </li>
			</ul>
		</div>
		
		<div class="right" col="4"> 
			<ul style="list-style-type:none;">
				<li class="profileItem" id="name">Holger Flauer</li>
				<li class="profileItem" id="age">24</li>
				<li class="profileItem" id="career">Informatik</li>
				<li class="profileItem" id="semester">3</li>
				<li>
					<div id="hereButton">
						<div class="editLink" id="edit">  Profil bearbeiten  </div>
					</div>
				</li>
			</ul>
		</div>

	</div>

	<div class="footer">
			<p href=""> Impressum </p>
	</div>
</body>

<!--Logout-Script-->
<script>
  (function() {
    var popupButton = document.getElementById('popup');
    var cancelButton = document.getElementById('cancel');
    var Dialog = document.getElementById('Dialog');
	var switchButton = document.getElementById('switch');

    // Update button opens a modal dialog
    popupButton.addEventListener('click', function() {
      Dialog.showModal();
    });

    // Form cancel button closes the dialog box
    cancelButton.addEventListener('click', function() {
      Dialog.close(); // Todo: for the Queue add a reset
    });
	
	// For the scene switch
	switchButton.addEventListener('click', function() {
      window.location = "login.html";
    });

  })();

  /* Empty string */

  (function() {
	  var popupButton1 = document.getElementById('popup1');
	  var cancelButton1 = document.getElementById('cancel1');
	  var Dialog1 = document.getElementById('Dialog1');
	  var switchButton1 = document.getElementById('switch1');

	  // Update button opens a modal dialog
	  popupButton1.addEventListener('click', function() {
		  Dialog1.showModal();
	  });

	  // Form cancel button closes the dialog box
	  cancelButton1.addEventListener('click', function() {
		  Dialog1.close();
	  });

	  // For the scene switch
	  switchButton1.addEventListener('click', function() {
		  window.location = "login.html";
	  });

  })();

  function close_now() {
	  var button = document.getElementById("finishbutton");
	  finishIt(button);
  }

  /* Edit profile env*/
  function finishIt(self) {
	  let editable = document.getElementsByClassName("profileItemEdit");
	  for(let j = 0; j < 20; j++) {
		  for(let element of editable) {
			  element.className= "profileItem";
			  element.onclick = function () {
				  return false;
			  }
		  }
	  }
	  self.parentNode.innerHTML = "<div class=\"editLink\" id=\"edit\">  Profil bearbeiten  </div>";
	  let parentNode = document.getElementById("edit");
	  parentNode.onclick = () => makeeditable();
  }

  function closeDialog() {
	  Dialog1.close();
  }

  function openPopup1() {
	  Dialog1.showModal();
  }

  /* Empty str end */
  
function openPopup() {
	Dialog.showModal();
}

function switchToLogin() {
	window.location = "login.html";
}

function switchToSettings() {
	window.location = "settings.html";
}

function switchToMain() {
	window.location = "mainpage.html";
}

function switchToMessages() {
	window.location = "messages.html";
}

function switchToProfile() {
	window.location = "profile.html";
}
</script>

<script>
	/* Function */
	function makeeditable() {
		var profileItems = document.getElementsByClassName('profileItem');
		for (let j = 0; j < 4; j++) {
			for (let element of profileItems) {
				element.className = "profileItemEdit";
			}
		}
		editable = document.getElementsByClassName("profileItemEdit");
		editable[0].onclick = (() => {
			let name = prompt("Gebe den neuen Nutzernamen an");
			if(name === "") {
				openPopup1();
			} else {
				editable[0].innerHTML = name;
			}
		});
		editable[1].onclick = (() => {
			let age = prompt("Gebe neues Alter ein");
			if(age === "") {
				openPopup1();
			} else {
				editable[1].innerHTML = age;
			}
		});
		editable[2].onclick = (() => {
			let career =  prompt("Gebe neuen Studiengang ein");
			if(career === "") {
				openPopup1();
			} else {
				editable[2].innerHTML = career;
			}
		});
		editable[3].onclick = (() => {
			let semester = prompt("Gebe neues Semester");
			if(semester === "") {
				openPopup1();
			} else {
				editable[3].innerHTML = prompt("Gebe neues Semester");
			}
		});

		// Add button
		var button = document.getElementById("hereButton");
		button.innerHTML = "<div class=\"finishButton bt\" id=\"finishbutton\" onclick='finishIt(this)'> FINISH </div>";
	}


	/* Edit profile env*/
	function finishIt(self) {
		let editable = document.getElementsByClassName("profileItemEdit");
		for(let j = 0; j < 20; j++) {
			for(let element of editable) {
                element.className= "profileItem";
                element.onclick = function () {
                    return false;
                }
			}
		}
		self.parentNode.innerHTML = "<div class=\"editLink\" id=\"edit\">  Profil bearbeiten  </div>";
		let parentNode = document.getElementById("edit");
		parentNode.onclick = () => makeeditable();
	}

	var editable = document.getElementsByClassName("profileItemEdit");

	var edit = document.getElementById("edit");
	edit.onclick = () => makeeditable();

	var finish = document.getElementById("finishbutton");
	finish.onclick = finishIt;
</script>
</html>
